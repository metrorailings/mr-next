/* ----------------------- IMPORTS ----------------------------- */

@use 'sass:color';
@use 'public/styles/foundation/fonts';
@use 'public/styles/foundation/colors';
@use 'public/styles/foundation/responsive';
@use 'public/styles/foundation/animations';

/* ----------------------- MIX-INS ----------------------------- */

/**
 * A mix-in designed to style most buttons across the application
 *
 * @author kinsho
 */
@mixin primary-button($bgColor: colors.$steel-blue, $width: 100%, $isSquare: false) {
	@include animations.transitionSettings($property: all, $duration: 0.25s);
	@include fonts.define-font($size: fonts.$section, $family: Roboto Mono);

	border: {
		width: 1px;
		style: solid;
		color: colors.$slateGray
	}

	@if $isSquare {
		border-radius: 0;
	} @else {
		border-radius: 15px;
	}

	width: $width;
	padding: 10px;
	display: inline-block;
	background-color: $bgColor;
	color: colors.$white;
	box-shadow: colors.$black;
	cursor: pointer;

	&:disabled {
		cursor: default;
		opacity: 0.4;
	}
}

/**
 * A mix-in designed to style square buttons in the application
 *
 * @author kinsho
 */
@mixin small-button($bgColor: colors.$indian-red, $width: 100%) {
	@include animations.transition-settings($property: all, $duration: 0.25s);
	@include fonts.define-font($family: Roboto Mono);

	border: {
		width: 1px;
		style: solid;
		color: colors.$slate-gray;
	}

	width: $width;
	padding: 4.5px;
	display: inline-block;
	background-color: $bgColor;
	box-shadow: colors.$black;
	cursor: pointer;

	&:disabled {
		cursor: default;
		opacity: 0.4;
	}
}

/**
 * A mix-in designed to style buttons that cover the bottom of a host container in banner fashion
 *
 * @author kinsho
 */
@mixin banner-button($bgColor: colors.$slate-gray) {
	@include animations.transition-settings($property: all, $duration: 0.25s);
	@include fonts.define-font($family: Avenir Heavy) {
		letter-spacing: 1.5px;
		color: colors.$white;
	}

	border: {
		width: 0;
	}
	margin: {
		top: 25px;
	}

	width: 100%;
	padding: 10px;
	background-color: color.scale($bgColor, $lightness: 5%);
	cursor: pointer;

	&:disabled {
		cursor: default;
		opacity: 0.3;
	}
}

/* ----------------------- PLACEHOLDERS ----------------------------- */

%input-control {
	@include fonts.define-font($size: fonts.$secondary, $family: Poppins);

	height: 2em;
	color: colors.$slate-gray;
	box-sizing: border-box;

	&::placeholder {
		font-style: italic;
		opacity: 0.4;
	}

	&.optional-field {
		background-color: colors.$lavender;
	}

	&:disabled {
		opacity: 0.4;
	}

	&.error {
		background-color: colors.$negative-red;
	}
}

// Specialized input container meant to stow icons besides form fields
%input-grouping {
	margin: {
		top: 5px;
		bottom: 15px;
	}

	border: {
		width: 1px;
		radius: 5px;
		style: solid;
		color: colors.$gray;
	}

	display: inline-flex;
	position: relative;
	align-items: center;
	width: 500px;

	& > .input-grouping-icon {
		color: colors.$slate-gray;
		width: 50px;
		height: 2em;
		display: flex;
		justify-content: center;
		align-items: center;

		&:first-child {
			border-right: {
				width: 0.5px;
				color: colors.$gray;
				style: solid;
			}
		}

		&:last-child {
			border-left: {
				width: 0.5px;
				color: colors.$gray;
				style: solid;
			}

			cursor: pointer;
		}
	}

	& > input {
		margin: {
			left: 5px;
			right: 5px;
		}

		border: none;
		box-shadow: none;
		flex: 1;
	}
}

// Styling for customized button sets
%buttonset {
	& > label {
		@include animations.transition-settings($property: all, $duration: 0.5s);

		border: {
			width: 1px;
			style: solid;
			color: colors.$black;
		}

		padding: 10px;
		cursor: pointer;
		background-color: colors.$silver;
		color: colors.$black;

		&:first-of-type {
			border-top-left-radius: 10px;
			border-bottom-left-radius: 10px;
		}

		&:last-of-type {
			border-top-right-radius: 10px;
			border-bottom-right-radius: 10px;
		}

		&.selected {
			background-color: colors.$gray;
			color: colors.$white;
		}
	}

	& > input {
		display: none;
	}

	&.disabled {
		opacity: 0.4;
	}
}

/* ----------------------- STYLES ----------------------------- */

.label {
	@include fonts.define-font($size: fonts.$secondary, $family: Avenir Heavy) {
		letter-spacing: 0.3px;
		color: colors.$low-black;
	}

	margin: {
		top: 5px;
		bottom: 5px;
	}

	align-self: flex-start;
}

.secondary-label {
	@include fonts.define-font($size: fonts.$secondary, $family: Avenir Heavy) {
		letter-spacing: 0.1px;
		color: colors.$slate-gray;
	}
}

textarea.input-control {
	@extend %input-control;

	box-shadow: 2px 2px 4px -1px colors.$gray;
}

.small-input-control {
	@extend %input-control;

	@include responsive.tablet-up() {
		min-width: 100px;
		max-width: 150px;
	}
	@include responsive.phone-only() {
		min-width: 80px;
		max-width: 120px;
	}
}

.medium-input-control {
	@extend %input_control;

	@include responsive.tablet-up() {
		min-width: 250px;
		max-width: 350px;
	}
	@include responsive.phone-only() {
		min-width: 200px;
		max-width: 275px;
	}
}

.large-input-control {
	@extend %input_control;

	@include responsive.tablet-up() {
		min-width: 400px;
		max-width: 550px;
	}
	@include responsive.phone-only() {
		min-width: 300px;
		max-width: 420px;
	}
}

.input-checkbox {
	// Hide the browser's native checkbox as it's quite ugly 
	appearance: none;
	margin: 0;
	background-color: colors.$white;

	& + label {
		cursor: pointer;

		&::before {
			content: '\2713 ';

			border: {
				width: 1px;
				radius: 5px;
				style: solid;
				color: colors.$slate-gray;
			}

			margin: {
				right: 10px;
			}

			background-color: colors.$smoke-white;
			color: colors.$smoke-white;
			display: inline-block;
			box-shadow: inset 0 1px 3px rgb(0 0 0 / 20%);

			@include responsive.tablet-up() {
				width: 20px;
				height: 20px;
				font-size: 20px;
				line-height: 20px;
			}

			@include responsive.phone-only() {
				width: 12px;
				height: 12px;
				font-size: 12px;
				line-height: 12px;
			}
		}
	}

	&:checked + label::before {
		color: colors.$success;
	}
}